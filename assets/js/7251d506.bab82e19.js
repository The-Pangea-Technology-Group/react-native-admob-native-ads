"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[484],{3905:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return u}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var d=n.createContext({}),s=function(e){var t=n.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=s(e.components);return n.createElement(d.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,d=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=s(a),u=r,h=c["".concat(d,".").concat(u)]||c[u]||m[u]||i;return a?n.createElement(h,o(o({ref:t},p),{},{components:a})):n.createElement(h,o({ref:t},p))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=c;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=a[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},4904:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return l},contentTitle:function(){return d},metadata:function(){return s},toc:function(){return p},default:function(){return c}});var n=a(3117),r=a(102),i=(a(7294),a(3905)),o=["components"],l={id:"nativeadview-2",title:"NativeAdView",sidebar_label:"How to use"},d=void 0,s={unversionedId:"nativeadview/nativeadview-2",id:"nativeadview/nativeadview-2",title:"NativeAdView",description:"NativeAdView wraps all your Ad components inside it and provides a Context through which each component loads an ad.",source:"@site/docs/nativeadview/nativeadview.md",sourceDirName:"nativeadview",slug:"/nativeadview/",permalink:"/react-native-admob-native-ads/docs/nativeadview/",editUrl:"https://github.com/ammarahm-ed/react-native-admob-native-ads/edit/master/docs/docs/nativeadview/nativeadview.md",tags:[],version:"current",frontMatter:{id:"nativeadview-2",title:"NativeAdView",sidebar_label:"How to use"},sidebar:"someSidebar",previous:{title:"Migrating Guide",permalink:"/react-native-admob-native-ads/docs/migrating"},next:{title:"Basic props",permalink:"/react-native-admob-native-ads/docs/nativeadview/props-3"}},p=[{value:"Importing",id:"importing",children:[],level:2},{value:"Basic usage",id:"basic-usage",children:[],level:2},{value:"Loading an Ad",id:"loading-an-ad",children:[],level:2},{value:"Preloading ads",id:"preloading-ads",children:[],level:2},{value:"Props",id:"props",children:[{value:"<code>style</code>",id:"style",children:[],level:3},{value:"<code>repository</code>",id:"repository",children:[],level:3},{value:"<code>adUnitID</code>",id:"adunitid",children:[],level:3},{value:"<code>enableTestMode</code>",id:"enabletestmode",children:[],level:3},{value:"<code>adChoicesPlacement</code>",id:"adchoicesplacement",children:[],level:3},{value:"<code>mediaAspectRatio</code>",id:"mediaaspectratio",children:[],level:3},{value:"<code>requestNonPersonalizedAdsOnly</code>",id:"requestnonpersonalizedadsonly",children:[],level:3}],level:2}],m={toc:p};function c(e){var t=e.components,a=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"NativeAdView wraps all your Ad components inside it and provides a ",(0,i.kt)("inlineCode",{parentName:"p"},"Context")," through which each component loads an ad."),(0,i.kt)("h2",{id:"importing"},"Importing"),(0,i.kt)("p",null,"The NativeAdView is imported as the default component from the library."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},'import NativeAdView from "react-native-admob-native-ads";\n')),(0,i.kt)("h2",{id:"basic-usage"},"Basic usage"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},'<NativeAdView adUnitID="ca-app-pub-3940256099942544/2247696110">\n  <View>/* All other ad components */</View>\n</NativeAdView>\n')),(0,i.kt)("h2",{id:"loading-an-ad"},"Loading an Ad"),(0,i.kt)("p",null,"Ads are loaded imperitively. You need to provide a ref to the ",(0,i.kt)("inlineCode",{parentName:"p"},"NativeAdView")," to load ads."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},'const AdView = () => {\n  const nativeAdViewRef = useRef();\n\n  React.useEffect(() => {\n    nativeAdViewRef.current?.loadAd();\n  }, []);\n\n  return (\n    <NativeAdView\n      ref={nativeAdViewRef}\n      adUnitID="ca-app-pub-3940256099942544/2247696110"\n    >\n      <View>/* All other ad components */</View>\n    </NativeAdView>\n  );\n};\n')),(0,i.kt)("h2",{id:"preloading-ads"},"Preloading ads"),(0,i.kt)("p",null,"You probably do not want the user to wait for the ad to load. Hence loading the ads before showing them makes the ad experience a lot better. From v0.6.0 of library, you can preload ads by a repository anywhere in the app."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"AdManager.registerRepository({\n  name: 'imageAd',\n  adUnitId: NATIVE_AD_ID,\n  numOfAds: 3,\n  nonPersonalizedAdsOnly: false,\n  videoOptions: {\n    mute: false,\n  },\n  expirationPeriod: 3600000, // in milliseconds (optional)\n  mediationEnabled: false,\n}).then(result => {\n  console.log('registered: ', result);\n});\n")),(0,i.kt)("p",null,"And then later you can show the preloaded ads in the app. As soon as an ad is shown, it will be discarded from the repository and a new ad will be preloaded in it's place."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},'const AdView = () => {\n  const nativeAdViewRef = useRef();\n  React.useEffect(() => {\n    nativeAdViewRef.current?.loadAd();\n  }, []);\n  return (\n    <NativeAdView\n      ref={nativeAdViewRef}\n      repository="imageAd"\n    >\n      <View>/* All other ad components */</View>\n    </NativeAdView>\n  );\n};\n')),(0,i.kt)("p",null,"You can register multiple repositories. For example a repository for videoAds, imageAds, banners etc and so on. You are in full control."),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"To prevent ",(0,i.kt)("inlineCode",{parentName:"p"},"NativeAdView")," from rerendering and requesting new ads, you can wrap your component in ",(0,i.kt)("inlineCode",{parentName:"p"},"React.memo()")," or use ",(0,i.kt)("inlineCode",{parentName:"p"},"React.PureComponent"),"."))),(0,i.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"From version ",(0,i.kt)("inlineCode",{parentName:"p"},"0.4.0")," onwards ads do not refresh automatically to save bandwidth and reduce the amount of requests sent to Admob. You must only reload an ad when you are sure that you need to reload it."))),(0,i.kt)("h2",{id:"props"},"Props"),(0,i.kt)("h3",{id:"style"},(0,i.kt)("inlineCode",{parentName:"h3"},"style")),(0,i.kt)("p",null,"Style for your NativeAdView."),(0,i.kt)("h3",{id:"repository"},(0,i.kt)("inlineCode",{parentName:"h3"},"repository")),(0,i.kt)("p",null,"Repositories preload ads for the NativeAdView and are useful to show ads instantly without any delay when user navigates to new screen."),(0,i.kt)("p",null,"Set Ad Unit ID for Native Advanced Ads that you created on your AdMob account."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Platform"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"string")),(0,i.kt)("td",{parentName:"tr",align:null},"Yes"),(0,i.kt)("td",{parentName:"tr",align:null},"All")))),(0,i.kt)("h3",{id:"adunitid"},(0,i.kt)("inlineCode",{parentName:"h3"},"adUnitID")),(0,i.kt)("p",null,"Set Ad Unit ID for Native Advanced Ads that you created on your AdMob account. ",(0,i.kt)("strong",{parentName:"p"},"If you are using repositories to preload ads, defining `adUnitID is not required.")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Platform"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"string")),(0,i.kt)("td",{parentName:"tr",align:null},"No"),(0,i.kt)("td",{parentName:"tr",align:null},"All")))),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Remember that there are two types of Admob Native Advanced Ad IDs. One is for simple image ads and other is for video ads."))),(0,i.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"During development you should never use your Admob IDs. Instead you can grab the test Admob IDs for ",(0,i.kt)("a",{parentName:"p",href:"https://developers.google.com/admob/android/test-ads"},"iOS")," and ",(0,i.kt)("a",{parentName:"p",href:"https://developers.google.com/admob/ios/test-ads"},"Android")," from Google Developers Website. If you use your own Ad IDs, you must add your device to test-devices."))),(0,i.kt)("h3",{id:"enabletestmode"},(0,i.kt)("inlineCode",{parentName:"h3"},"enableTestMode")),(0,i.kt)("p",null,"Setting this to true will load a placeholder ad (Not from Admob server) incase you have no internet etc so you can design your ad as you want with ease. Remember to set the ",(0,i.kt)("inlineCode",{parentName:"p"},"adUnitID")," to null when using this so the placeholder ad is not replaced by a real ad."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Platform"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"boolean")),(0,i.kt)("td",{parentName:"tr",align:null},"no"),(0,i.kt)("td",{parentName:"tr",align:null},"All")))),(0,i.kt)("h3",{id:"adchoicesplacement"},(0,i.kt)("inlineCode",{parentName:"h3"},"adChoicesPlacement")),(0,i.kt)("p",null,"Placement of AdChoices can be in any of the 4 corners of the ad"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"AdOptions.adChoicesPlacement")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"topLeft"),(0,i.kt)("td",{parentName:"tr",align:null},"Show AdChoices on top right corner of the Ad")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"topRight"),(0,i.kt)("td",{parentName:"tr",align:null},"Show AdChoices on top lef corner of the Ad")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"bottomLeft"),(0,i.kt)("td",{parentName:"tr",align:null},"Show AdChoices on bottom right corner of the Ad")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"bottomRight"),(0,i.kt)("td",{parentName:"tr",align:null},"Show AdChoices on bottom left corner of the Ad")))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"default: topRight")),(0,i.kt)("h3",{id:"mediaaspectratio"},(0,i.kt)("inlineCode",{parentName:"h3"},"mediaAspectRatio")),(0,i.kt)("p",null,"You can specify to Admob what kind of ad you want to recieve however it is not guarenteed that you will recieve the same ad you requested."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"unknown"),(0,i.kt)("td",{parentName:"tr",align:null},"Show whatever ad is available")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"any"),(0,i.kt)("td",{parentName:"tr",align:null},"Any ads are prefferred.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"landscape"),(0,i.kt)("td",{parentName:"tr",align:null},"Landscape ads are prefferred.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"portrait"),(0,i.kt)("td",{parentName:"tr",align:null},"Portrait ads are prefferred.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"square"),(0,i.kt)("td",{parentName:"tr",align:null},"Square ads are prefferred.")))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"default: any")),(0,i.kt)("h3",{id:"requestnonpersonalizedadsonly"},(0,i.kt)("inlineCode",{parentName:"h3"},"requestNonPersonalizedAdsOnly")),(0,i.kt)("p",null,"Under the Google EU User Consent Policy, you must make certain disclosures\nto your users in the European Economic Area (EEA) and obtain their consent\nto use cookies or other local storage, where legally required, and to use\npersonal data (such as AdID) to serve ads. This policy reflects the requirements\nof the EU ePrivacy Directive and the General Data Protection Regulation (GDPR)."),(0,i.kt)("p",null,"You can use library such as: ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/birgernass/react-native-ad-consent"},"https://github.com/birgernass/react-native-ad-consent"),"\nto obtain the consent or if you are using rn-firebase you can obtain the consent from\nthere and then pass the consent to this library. If user has selected\nnon-personalized-ads then pass ",(0,i.kt)("inlineCode",{parentName:"p"},"true")," and non-personalized ads will be shown to the user."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Platform"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"boolean")),(0,i.kt)("td",{parentName:"tr",align:null},"no"),(0,i.kt)("td",{parentName:"tr",align:null},"All")))))}c.isMDXComponent=!0}}]);